<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edutorial | Request lifecycle</title>
<link rel="shortcut icon" type="image/png" href="/_assets/android/edutorial-icon-48.png">

<link rel="manifest" href='/manifest.json'>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/_css/prism-one-light.css" rel="stylesheet">
<link href="/_css/colors.css" rel="stylesheet">
<link href="/_css/base.css" rel="stylesheet">
<link href="/_css/frontpage.css" rel="stylesheet">
<link href="/_css/desktop.css" rel="stylesheet">
<link href="/_css/tablet.css" rel="stylesheet">
<link href="/_css/mobile.css" rel="stylesheet">

    
</head>

<body>
    <header>
        <div class="container">
            <a id="logolink" href="/"><img id="logo" class="standard" src="/_assets/logo.svg" alt="logo"></a>
            <nav>
                
                <a href="/" class="nav-link" >Home</a>
                
                <a class="nav-link" href="https://github.com/siewers32/eleventy/blob/master/./src/laravel/laravel-ch30.md"><span
                        class="material-icons">edit</span></a>

                
                <a href="#" id="menu"><span class="material-icons">menu</span></a>
                
            </nav>
        </div><!-- container -->
    </header>
    <main>
        <aside id="left">
            
<h3>Pagina's</h3>

<a class="page-link" href="/laravel/introductie/" >Introductie</a>

<a class="page-link" href="/laravel/monolithische-applicaties/" >Monolithische applicaties</a>

<a class="page-link" href="/laravel/installatie/" >Installatie</a>

<a class="page-link" href="/laravel/request-lifecycle/" aria-current="page" data-state="active" >Request lifecycle</a>

<a class="page-link" href="/laravel/views/" >Views</a>

<a class="page-link" href="/laravel/models-en-controllers/" >Models en Controllers</a>

<a class="page-link" href="/laravel/authenticatie/" >Authenticatie</a>

<a class="page-link" href="/laravel/migrations/" >Migrations</a>

<a class="page-link" href="/laravel/formulier/" >Formulier</a>


        </aside>
        <div id="content">
            
<div id="menu-panel">
    
    <a class="page-link" href="/laravel/introductie/" >Introductie</a>
    
    <a class="page-link" href="/laravel/monolithische-applicaties/" >Monolithische applicaties</a>
    
    <a class="page-link" href="/laravel/installatie/" >Installatie</a>
    
    <a class="page-link" href="/laravel/request-lifecycle/" aria-current="page" data-state="active" >Request lifecycle</a>
    
    <a class="page-link" href="/laravel/views/" >Views</a>
    
    <a class="page-link" href="/laravel/models-en-controllers/" >Models en Controllers</a>
    
    <a class="page-link" href="/laravel/authenticatie/" >Authenticatie</a>
    
    <a class="page-link" href="/laravel/migrations/" >Migrations</a>
    
    <a class="page-link" href="/laravel/formulier/" >Formulier</a>
    
</div>

            <h1 id="laravel">Laravel</h1>
<h2 id="request-lifecycle">Request lifecycle</h2>
<p><a href="https://laravel.com/docs/8.x/lifecycle">Lees hier meer over op laravel.com</a>. Hier wordt een korte uitleg gegeven van de stappen die worden genomen van request (het intypen van de url in de browser of het versturen van een formulier) tot aan de het teruggeven van de response (de pagina die wordt teruggestuurd naar de browser).</p>
<p>Nadat je een Laravel applicatie hebt geïnstalleerd met composer krijg je een hoeveelheid mappen met bestanden. De map public is de map die door de webserver wordt gepubliceerd.
Het opstarten van je applicatie doe je vanuit de map movie-app....</p>
<pre class="language-php"><code class="language-php">php artisan serve
Starting Laravel development server<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token comment">//127.0.0.1:8000</span>
<span class="token punctuation">[</span>Wed Oct <span class="token number">27</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">55</span><span class="token punctuation">:</span><span class="token number">18</span> <span class="token number">2021</span><span class="token punctuation">]</span> <span class="token constant">PHP</span> <span class="token number">8.0</span><span class="token number">.8</span> Development <span class="token function">Server</span> <span class="token punctuation">(</span><span class="token argument-name">http</span><span class="token punctuation">:</span><span class="token comment">//127.0.0.1:8000) started</span></code></pre>
<p>Als je naar de url gaat zie je het startscherm van laravel.</p>
<h2 id="wat-is-er-gebeurd%3F">Wat is er gebeurd?</h2>
<p>In eerste instantie wordt het bestand index.php gelezen.
Alle aanvragen in een Laravel applicatie gaan via index.php. Dit gebeurt omdat de websserver hierop is ingesteld. In de map public vind je een bestand met de naam .htaccess. Htaccess wordt door de webserver gelezen en geeft je de mogelijkheid om op map-niveau de configuratie van de apache webserver aan te passen. In htaccess worden alle url-aanvragen doorgestuurd naar index.php. In de $_SERVER array kun je nog steeds de oorspronkelijke aanvraag terugvinden. Door middel van het routing-mechanisme in Laravel krijgt je de weergave te zien die bij de url-aanvraag hoort.</p>
<h2 id="index.php">index.php</h2>
<p>In index.php worden een aantal bestanden ingeladen (met require). De applicatie wordt gestart met het bestand app.php.</p>
<pre class="language-php"><code class="language-php"><span class="token variable">$app</span> <span class="token operator">=</span> <span class="token keyword">require_once</span> <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/../bootstrap/app.php'</span><span class="token punctuation">;</span></code></pre>
<p>app.php is de service container van een laravel applicatie. In de service container worden services opgeslagen die worden gebruikt door de applicatie. Denk bijvoorbeeld aan een databaseconnectie. Als een databaseconnectie nodig is, dan wordt die uit de service container opgevraagd.</p>
<p>Welke applicatie-onderdelen worden gebruikt wordt bepaald door de router. De router bepaalt aan de hand van de url welke classes en methoden moeten worden uitgevoerd.
De url https://www.movie-app.nl/user/1
Op basis van 'user' en '1' kan de applicatie besluiten om de gebruiker met id 1 op te halen en weer te geven.
De router bepaald op basis van routes hoe een url moet worden geïnterpreteerd.</p>
<p>In de movie-app applicatie kun je zelf een route maken in de map routes-&gt;web.php
De eerste route bestaat al. Die zorgt voor het welkomst-scherm van laravel. De tweede route regelt dat de aanvraag http://127.0.0.1:8000/test een response met de tekst 'Hello World' teruggeeft aan de browser.</p>
<pre class="language-php"><code class="language-php"><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
        <aside id="right">
            
<div class="sections">
    <h3>Onderwerpen</h3>
    <div class="toc" >
        <ul><li><a href="#request-lifecycle">Request lifecycle</a></li><li><a href="#wat-is-er-gebeurd%3F">Wat is er gebeurd?</a></li><li><a href="#index.php">index.php</a></li></ul>
      </div>
</div>

        </aside>
        
    </main>
    <footer>
        
<div class="container">
    
    <a id="previous-link" href="/laravel/installatie/">
        <span id="arrow-back" class="material-icons">
            arrow_back_ios
        </span>
        <span class="title">Installatie</span>
    </a>
    
    
    <a id="next-link" href="/laravel/views/">
        <span class="title">Views</span>
        <span id="arrow-forward" class="material-icons">
            arrow_forward_ios
        </span>
    </a>
    
</div>

    </footer>
    <script src="/_js/menu-scroller.js"></script>
</body>

</html>